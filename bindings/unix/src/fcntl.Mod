MODULE fcntl [ INTERFACE "C" ];

IMPORT SYSTEM, types;
CONST
  _FCNTL_H* = 1;
  O_ACCMODE* = 00003H;
  O_RDONLY* = 0;
  O_WRONLY* = 001H;
  O_RDWR* = 002H;
  O_CREAT* = 00040H;
  O_EXCL* = 00080H;
  O_NOCTTY* = 00100H;
  O_TRUNC* = 000200H;
  O_APPEND* = 000400H;
  O_NONBLOCK* = 000800H;
  O_NDELAY* = 000800H;
  O_SYNC* = 000101000H;
  O_FSYNC* = 000101000H;
  O_ASYNC* = 0002000H;
  O_DIRECTORY* = 00010000H;
  O_NOFOLLOW* = 00020000H;
  O_CLOEXEC* = 000080000H;
  O_DSYNC* = 0001000H;
  O_RSYNC* = 000101000H;
  F_DUPFD* = 0;
  F_GETFD* = 1;
  F_SETFD* = 2;
  F_GETFL* = 3;
  F_SETFL* = 4;
  F_GETLK* = 5;
  F_SETLK* = 6;
  F_SETLKW* = 7;
  F_GETLK64* = 12;
  F_SETLK64* = 13;
  F_SETLKW64* = 14;
  F_SETOWN* = 8;
  F_GETOWN* = 9;
  F_DUPFD_CLOEXEC* = 1030;
  FD_CLOEXEC* = 1;
  F_RDLCK* = 0;
  F_WRLCK* = 1;
  F_UNLCK* = 2;
  F_EXLCK* = 4;
  F_SHLCK* = 8;
  LOCK_SH* = 1;
  LOCK_EX* = 2;
  LOCK_NB* = 4;
  LOCK_UN* = 8;
  FAPPEND* = 000400H;
  FFSYNC* = 000101000H;
  FASYNC* = 0002000H;
  FNONBLOCK* = 000800H;
  FNDELAY* = 000800H;
  POSIX_FADV_NORMAL* = 0;
  POSIX_FADV_RANDOM* = 1;
  POSIX_FADV_SEQUENTIAL* = 2;
  POSIX_FADV_WILLNEED* = 3;
  POSIX_FADV_DONTNEED* = 4;
  POSIX_FADV_NOREUSE* = 5;
  SEEK_SET* = 0;
  SEEK_CUR* = 1;
  SEEK_END* = 2;
  AT_FDCWD* = -100;
  AT_SYMLINK_NOFOLLOW* = 0100H;
  AT_REMOVEDIR* = 0200H;
  AT_SYMLINK_FOLLOW* = 0400H;
  AT_NO_AUTOMOUNT* = 0800H;
  AT_EACCESS* = 0200H;
TYPE
  flock_tag* = RECORD 
    l_type* : INTEGER;
    l_whence* : INTEGER;
    l_start* : types.__off_t;
    l_len* : types.__off_t;
    l_pid* : types.__pid_t;
  END;
  PROCEDURE fcntl* (__fd : LONGINT; __cmd : LONGINT) : LONGINT;
  PROCEDURE open* (__file : types.String; __oflag : LONGINT) : LONGINT;
  PROCEDURE openat* (__fd : LONGINT; __file : types.String; __oflag : LONGINT) : LONGINT;
  PROCEDURE creat* (__file : types.String; __mode : types.__mode_t) : LONGINT;
  PROCEDURE posix_fadvise* (__fd : LONGINT; __offset : types.__off_t; __len : types.__off_t; __advise : LONGINT) : LONGINT;
  PROCEDURE posix_fallocate* (__fd : LONGINT; __offset : types.__off_t; __len : types.__off_t) : LONGINT;
END fcntl.
